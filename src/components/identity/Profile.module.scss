// Profile.module.scss
// Hierarchical SCSS structure for Profile component
@use '../../styles/variables' as *;

.container {
  max-width: 800px;
  margin: 0 auto;

  .header {
    margin-bottom: $spacing-2xl;

    h1 {
      font-size: $text-3xl;
      font-weight: $font-bold;
      color: $gray-800;
      margin-bottom: $spacing-sm;
    }

    p {
      color: $gray-600;
    }

    .profileName {
      font-size: $text-lg;
      font-weight: $font-semibold;
      color: $primary;
      margin-top: $spacing-sm;
    }

    .eventStreamStatus {
      margin-top: $spacing-sm;

      .statusIndicator {
        display: inline-flex;
        align-items: center;
        gap: $spacing-xs;
        padding: $spacing-xs $spacing-sm;
        border-radius: $radius-sm;
        font-size: $text-xs;
        font-weight: $font-medium;

        &.connected {
          background-color: #dcfce7;
          color: #166534;
        }

        &.disconnected {
          background-color: #fef2f2;
          color: $error;
        }
      }
    }
  }

  .loadingMessage {
    text-align: center;
    padding: $spacing-2xl;
    color: $gray-600;
    font-size: $text-base;
  }

  .errorMessage {
    display: flex;
    align-items: flex-start;
    gap: $spacing-md;
    padding: $spacing-lg;
    border-radius: $radius-md;
    font-size: $text-sm;
    margin-bottom: $spacing-lg;
    border: 1px solid;
    background-color: #fef2f2;
    border-color: #fecaca;
    color: $error;

    .errorIcon {
      font-size: $text-xl;
      flex-shrink: 0;
      margin-top: 0.125rem;
    }

    .errorContent {
      flex: 1;

      .errorTitle {
        font-weight: $font-semibold;
        margin-bottom: $spacing-xs;
      }

      .errorDescription {
        line-height: 1.4;
      }

      .errorHelp {
        margin-top: $spacing-sm;
        font-size: 0.8rem;
        color: #991b1b;
        font-style: italic;
      }
    }
  }

  .imageUploadError {
    position: absolute;
    top: -60px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #fef2f2;
    border: 1px solid #fecaca;
    border-radius: $radius-md;
    padding: $spacing-sm;
    font-size: $text-xs;
    color: $error;
    white-space: nowrap;
    z-index: 10;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: $spacing-2xl;

    .profileSection {
      background: white;
      border-radius: $radius-lg;
      padding: $spacing-2xl;
      box-shadow: $shadow-base;

      .profilePictureSection {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: $spacing-lg;

        .profilePicture {
          position: relative;
          width: 120px;
          height: 120px;
          border-radius: $radius-full;
          overflow: hidden;
          border: 3px solid $gray-200;

          img {
            width: 100%;
            height: 100%;
            object-fit: cover;
          }

          .profilePicturePlaceholder {
            width: 100%;
            height: 100%;
            background-color: $gray-100;
            display: flex;
            align-items: center;
            justify-content: center;
            color: $gray-400;
          }

          .uploadButton {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 32px;
            height: 32px;
            background-color: $primary;
            color: white;
            border: none;
            border-radius: $radius-full;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color $transition-base;

            &:hover {
              background-color: $primary-dark;
            }
          }
        }
      }

      .profileForm {
        display: flex;
        flex-direction: column;
        gap: $spacing-xl;
      }
    }

    .identitySection {
      background: white;
      border-radius: $radius-lg;
      padding: $spacing-2xl;
      box-shadow: $shadow-base;

      h3 {
        font-size: $text-xl;
        font-weight: $font-semibold;
        color: $gray-800;
        margin-bottom: $spacing-xl;
      }

      .identityInfo {
        display: flex;
        flex-direction: column;
        gap: $spacing-lg;

        .infoItem {
          display: flex;
          flex-direction: column;
          gap: $spacing-sm;
          padding: $spacing-lg;
          background-color: $gray-50;
          border-radius: $radius-md;
          border: 1px solid $gray-200;

          .infoLabel {
            display: flex;
            align-items: center;
            gap: $spacing-sm;
            font-weight: $font-medium;
            color: $gray-700;
            font-size: $text-sm;
          }

          .infoValue {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: $spacing-lg;

            code {
              font-family: monospace;
              background-color: $gray-100;
              padding: $spacing-xs $spacing-sm;
              border-radius: $radius-sm;
              font-size: $text-sm;
              color: $gray-800;
              flex: 1;
              word-break: break-all;
            }

            .copyButton {
              padding: $spacing-xs $spacing-md;
              background-color: $gray-100;
              color: $gray-700;
              border: 1px solid $gray-300;
              border-radius: $radius-sm;
              font-size: $text-xs;
              cursor: pointer;
              transition: all $transition-base;
              white-space: nowrap;

              &:hover {
                background-color: $gray-200;
                color: $gray-800;
              }
            }
          }
        }
      }
    }
  }
}

// Responsive Design
@media (max-width: $breakpoint-md) {
  .container {
    .content {
      grid-template-columns: 1fr;
      gap: $spacing-lg;

      .profileSection,
      .identitySection {
        padding: $spacing-xl;
      }
    }
  }
}

// Dark mode support
@media (prefers-color-scheme: dark) {
  .container {
    .header {
      h1 {
        color: $dark-text;
      }

      p {
        color: $dark-text-secondary;
      }
    }

    .content {
      .profileSection,
      .identitySection {
        background-color: $dark-bg;

        h3 {
          color: $dark-text;
        }
      }

      .identitySection .identityInfo .infoItem {
        background-color: $dark-surface;
        border-color: $dark-border;

        .infoLabel {
          color: $dark-text;
        }

        .infoValue {
          code {
            background-color: $dark-border;
            color: $dark-text;
          }

          .copyButton {
            background-color: $dark-surface;
            color: $dark-text;
            border-color: $dark-border;

            &:hover {
              background-color: $dark-border;
            }
          }
        }
      }
    }
  }
}

